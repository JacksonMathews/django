name: tmate-5x-parallel

on:
  workflow_dispatch:

jobs:
  tmate-parallel:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        runner_id: [1, 2, 3, 4, 5]
      fail-fast: false
    steps:
      - name: Download tmate (official static build)
        run: |
          wget https://github.com/tmate-io/tmate/releases/download/2.4.0/tmate-static-linux-amd64.tar.xz
          tar -xf tmate-static-linux-amd64.tar.xz
          mv tmate-static-linux-amd64/tmate .
          chmod +x tmate
      - name: Start tmate session
        run: |
          ./tmate -F &
          sleep 21600
